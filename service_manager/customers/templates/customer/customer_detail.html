{% extends 'base.html' %}
{% block content %}
    <div class="d-block mt-5" style="background-color: #d7d5d5; padding:2%">
        <h2 class='text-center'>Customer Information</h2>
        <div class="row">
            <div class="col-sm-6">
                <p><u>Name:</u> {{ object.name }}</p>
                <p><u>Type:</u> {{ object.type.name }}</p>
                <p><u>VAT:</u> {{ object.vat }}</p>
            </div>
            <div class="col-sm-6">
                <p><u>Email:</u> {{ object.email_address }}</p>
                <p><u>Phone:</u> {{ object.phone_number }}</p>
                <a class="btn btn-outline-primary btn-sm" href="{% url 'edit_customer' object.id %}"
                   role="button">Edit</a>
            </div>
        </div>
    </div>

    <div class="nav nav-tabs" id="nav-tab" role="tablist">
        <a class="nav-item nav-link {% if not request.GET %} active {% endif %}" href="{% url 'customer_detail' object.pk %}" role="tab"
           aria-selected="true">Assets</a>
        <a class="nav-item nav-link {% if 'show_representatives' in request.GET %} active {% endif %}" href="{% url 'customer_detail' object.pk %}?show_representatives" role="tab"
           aria-selected="false">Representatives</a>
        <a class="nav-item nav-link {% if 'show_departments' in request.GET %} active {% endif %}" href="{% url 'customer_detail' object.pk %}?show_departments" role="tab"
           aria-selected="false">Departments</a>
    </div>

    {% if not request.GET %}
        {% include 'customer_asset/customer_assets.html' %}
    {% elif 'show_representatives' in request.GET %}
        {% include 'customer_representatives/customer_representatives.html' %}
    {% elif 'show_departments' in request.GET %}
        {% include 'customer_department/customer_departments.html' %}
    {% endif %}
{% endblock %}